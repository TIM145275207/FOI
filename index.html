<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FOI - FBI RP</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(135deg, #0b0c10, #1f2833);
    color: #c5c6c7;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 30px;
    background-image: url("SZCCG1i-Photoroom.png");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 400px;
}

h1 {
    color: #66fcf1;
    font-size: 3em;
    text-shadow: 0 0 10px #45a29e;
    margin-bottom: 30px;
}

nav {
    margin-bottom: 20px;
}

nav button {
    background: #45a29e;
    color: #0b0c10;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    margin: 0 5px;
    cursor: pointer;
    font-weight: bold;
}

nav button:hover {
    background: #66fcf1;
}

section {
    display: none;
    width: 100%;
    max-width: 700px;
}

section.active {
    display: block;
}

form {
    background: #1f2833;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 20px #45a29e;
    margin-bottom: 20px;
    width: 100%;
}

input, textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    border-radius: 10px;
    border: none;
    outline: none;
    font-size: 1em;
}

input[type="submit"] {
    background: #45a29e;
    color: #0b0c10;
    font-weight: bold;
    cursor: pointer;
}

input[type="submit"]:hover {
    background: #66fcf1;
}

#search {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 10px;
    border: none;
    outline: none;
    font-size: 1em;
    box-shadow: 0 0 10px #45a29e;
}

ul {
    list-style: none;
    padding: 0;
}

li {
    background: #1f2833;
    margin-bottom: 10px;
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 0 12px #45a29e;
    cursor: pointer;
}

li:hover {
    background: #0b0c10;
}

/* Modal voir plus */
.modal {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.8);
    display:none;
    justify-content:center;
    align-items:center;
    z-index: 9998;
}

.modal-content {
    background:#1f2833;
    padding:20px;
    border-radius:12px;
    text-align:center;
    position:relative;
    color:white;
    max-width:400px;
}

.modal-content img {
    width:150px; height:150px;
    object-fit:cover;
    border-radius:50%;
    margin-bottom:15px;
}

.close {
    position:absolute;
    top:10px;
    right:15px;
    font-size:20px;
    color:red;
    cursor:pointer;
}

/* Snake overlay */
#snakeOverlay {
    display:none;
    position: fixed;
    inset:0;
    background: rgba(0,0,0,0.7);
    justify-content:center;
    align-items:center;
    z-index:9999;
}

.snake-container {
    background: #1f2833;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
}

#canvasSnake {
    display:block;
    margin:0 auto 15px auto;
    background:#0b0c10;
    border:3px solid #66fcf1;
    border-radius:10px;
}

.snake-controls button {
    margin:5px;
    padding:8px 15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#45a29e;
    color:#0b0c10;
    font-weight:bold;
}

.snake-controls button:hover {
    background:#66fcf1;
}

/* Bouton secret */
#secretSnake {
    position:fixed;
    bottom:20px;
    right:20px;
    background:#45a29e;
    color:#0b0c10;
    border:none;
    padding:10px 15px;
    border-radius:50%;
    cursor:pointer;
    z-index:10000;
}
#secretSnake:hover {
    background:#66fcf1;
}
</style>
</head>
<body>

<h1>FOI - FBI RP</h1>

<nav>
    <button onclick="showSection('criminels')">Criminels</button>
    <button onclick="showSection('plaques')">Plaques</button>
</nav>

<section id="criminels" class="active">
    <form id="fbiForm">
        <input type="text" placeholder="Nom" required id="nom">
        <input type="text" placeholder="Pr√©nom" required id="prenom">
        <input type="number" placeholder="√Çge" required id="age">
        <input type="text" placeholder="Crime" required id="crime">
        <input type="file" id="photo" accept="image/*">
        <textarea placeholder="Autres infos" id="autres"></textarea>
        <input type="submit" value="Ajouter">
    </form>
    <input type="text" id="search" placeholder="Rechercher...">
    <ul id="liste"></ul>
</section>

<section id="plaques">
    <form id="plaqueForm">
        <input type="text" placeholder="Plaque d'immatriculation" required id="plaque">
        <input type="text" placeholder="Propri√©taire" required id="proprio">
        <input type="submit" value="Ajouter">
    </form>
    <ul id="listePlaques"></ul>
</section>

<div id="modal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <img id="modalImg" src="">
        <h3 id="modalNom"></h3>
        <p id="modalAge"></p>
        <p id="modalCrime"></p>
        <p id="modalAutres"></p>
    </div>
</div>

<!-- Bouton secret pour Snake -->
<button id="secretSnake">üêç</button>

<div id="snakeOverlay">
    <div class="snake-container">
        <canvas id="canvasSnake" width="400" height="400"></canvas>
        <div class="snake-controls">
            <button id="pauseSnake">‚è∏ Pause</button>
            <button id="restartSnake">üîÑ Recommencer</button>
            <button id="closeSnake">‚ùå Fermer</button>
        </div>
    </div>
</div>

<script>
// Gestion des sections
function showSection(id){
    document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

// Criminels
let personnes=[];
const form=document.getElementById('fbiForm');
const liste=document.getElementById('liste');
const search=document.getElementById('search');

form.addEventListener('submit', e=>{
    e.preventDefault();
    const reader=new FileReader();
    const file=document.getElementById('photo').files[0];
    const personne={
        nom: document.getElementById('nom').value.trim(),
        prenom: document.getElementById('prenom').value.trim(),
        age: document.getElementById('age').value,
        crime: document.getElementById('crime').value.trim(),
        autres: document.getElementById('autres').value.trim(),
        photo: file ? URL.createObjectURL(file) : "https://via.placeholder.com/150"
    };
    personnes.push(personne);
    personnes.sort((a,b)=>a.nom.localeCompare(b.nom));
    displayList(personnes);
    form.reset();
});

function displayList(list){
    liste.innerHTML='';
    list.forEach(p=>{
        const li=document.createElement('li');
        li.textContent=`${p.nom} ${p.prenom} - ${p.age} ans`;
        li.onclick=()=>openModal(p);
        liste.appendChild(li);
    });
}

search.addEventListener('input', ()=>{
    const val=search.value.toLowerCase();
    const filtered=personnes.filter(p=>
        p.nom.toLowerCase().includes(val) ||
        p.prenom.toLowerCase().includes(val) ||
        p.crime.toLowerCase().includes(val)
    );
    displayList(filtered);
});

// Modal criminel
const modal=document.getElementById("modal");
const closeModal=document.getElementById("closeModal");
const modalImg=document.getElementById("modalImg");
const modalNom=document.getElementById("modalNom");
const modalAge=document.getElementById("modalAge");
const modalCrime=document.getElementById("modalCrime");
const modalAutres=document.getElementById("modalAutres");

function openModal(personne){
    modalImg.src=personne.photo;
    modalNom.textContent=`${personne.nom} ${personne.prenom}`;
    modalAge.textContent=`√Çge : ${personne.age} ans`;
    modalCrime.textContent=`Crime : ${personne.crime}`;
    modalAutres.textContent=personne.autres ? `Infos : ${personne.autres}` : '';
    modal.style.display="flex";
}

closeModal.onclick=()=>modal.style.display="none";

// Plaques
let plaques=[];
const plaqueForm=document.getElementById("plaqueForm");
const listePlaques=document.getElementById("listePlaques");

plaqueForm.addEventListener("submit", e=>{
    e.preventDefault();
    const plaque=document.getElementById("plaque").value.trim();
    const proprio=document.getElementById("proprio").value.trim();
    const proprietaire=personnes.find(p=>(p.nom+" "+p.prenom).toLowerCase()===proprio.toLowerCase());
    plaques.push({plaque, proprio, lien:proprietaire||null});
    displayPlaques();
    plaqueForm.reset();
});

function displayPlaques(){
    listePlaques.innerHTML='';
    plaques.forEach(pl=>{
        const li=document.createElement("li");
        li.textContent=`${pl.plaque} - ${pl.proprio}`;
        if(pl.lien){
            li.style.color="#66fcf1";
            li.onclick=()=>openModal(pl.lien);
        }
        listePlaques.appendChild(li);
    });
}

// Snake
const secretSnake=document.getElementById("secretSnake");
const snakeOverlay=document.getElementById("snakeOverlay");
const closeSnake=document.getElementById("closeSnake");
const restartSnake=document.getElementById("restartSnake");
const pauseSnake=document.getElementById("pauseSnake");
const canvasSnake=document.getElementById("canvasSnake");
const ctx=canvasSnake.getContext("2d");

let snake=[], dx=20, dy=0, food, score=0, gameInterval, paused=false;

function placeFood(){ food={x:Math.floor(Math.random()*20)*20, y:Math.floor(Math.random()*20)*20}; }

function drawSnake(){
    ctx.fillStyle="#0b0c10";
    ctx.fillRect(0,0,canvasSnake.width,canvasSnake.height);
    ctx.fillStyle="red";
    ctx.fillRect(food.x,food.y,20,20);
    snake.forEach((seg,i)=>{
        ctx.fillStyle=i===0?"#3b82f6":"#45a29e";
        ctx.fillRect(seg.x,seg.y,18,18);
    });
}

function updateSnake(){
    const head={x:snake[0].x+dx, y:snake[0].y+dy};
    if(head.x<0||head.x>=canvasSnake.width||head.y<0||head.y>=canvasSnake.height||snake.some(seg=>seg.x===head.x&&seg.y===head.y)){
        alert("Game Over! Score: "+score);
        clearInterval(gameInterval);
        return;
    }
    snake.unshift(head);
    if(head.x===food.x && head.y===food.y){
        score++;
        placeFood();
    } else snake.pop();
    drawSnake();
    document.getElementById("snake-score").textContent="Score : "+score;
}

function startSnake(){
    snake=[{x:200,y:200}];
    dx=20; dy=0;
    score=0;
    placeFood();
    clearInterval(gameInterval);
    gameInterval=setInterval(()=>{ if(!paused) updateSnake(); },100);
}

document.addEventListener("keydown", e=>{
    switch(e.key){
        case "ArrowUp": if(dy===0){dx=0;dy=-20;} break;
        case "ArrowDown": if(dy===0){dx=0;dy=20;} break;
        case "ArrowLeft": if(dx===0){dx=-20;dy=0;} break;
        case "ArrowRight": if(dx===0){dx=20;dy=0;} break;
    }
});

secretSnake.addEventListener("click", ()=>{
    snakeOverlay.style.display="flex";
    startSnake();
});

closeSnake.addEventListener("click", ()=>{
    snakeOverlay.style.display="none";
    clearInterval(gameInterval);
});

restartSnake.addEventListener("click", ()=>startSnake());

pauseSnake.addEventListener("click", ()=>{
    paused=!paused;
    pauseSnake.textContent=paused?"‚ñ∂ Reprendre":"‚è∏ Pause";
});
</script>
</body>
</html>



closeSnake.addEventListener('click', ()=>{
  snakeOverlay.style.display='none';
  clearInterval(gameInterval);
});

function placeFood(){ food.x=Math.floor(Math.random()*(canvasSnake.width/20))*20; food.y=Math.floor(Math.random()*(canvasSnake.height/20))*20; }

function drawSnake(){
  ctxSnake.fillStyle='#1f2833'; ctxSnake.fillRect(0,0,canvasSnake.width,canvasSnake.height);
  ctxSnake.fillStyle='#66fcf1'; ctxSnake.fillRect(food.x,food.y,20,20);
  snake.forEach((seg,i)=>{ctxSnake.fillStyle=i===0?'#3b82f6':'#45a29e'; ctxSnake.fillRect(seg.x,seg.y,18,18);});
}

function updateSnake(){
  const head={x:snake[0].x+dx,y:snake[0].y+dy};
  if(head.x<0||head.x>=canvasSnake.width||head.y<0||head.y>=canvasSnake.height||snake.some(seg=>seg.x===head.x && seg.y===head.y)){
    alert("Game Over! Score: "+score);
    snake=[{x:200,y:200}]; dx=20; dy=0; score=0; placeFood(); return;
  }
  snake.unshift(head);
  if(head.x===food.x && head.y===food.y){ score++; placeFood(); } else { snake.pop(); }
  drawSnake();
}

function startSnake(){ snake=[{x:200,y:200}]; dx=20; dy=0; score=0; placeFood(); gameInterval=setInterval(updateSnake,100); }

document.addEventListener('keydown', (e)=>{
  switch(e.key){
    case 'ArrowUp': if(dy===0){dx=0; dy=-20;} break;
    case 'ArrowDown': if(dy===0){dx=0; dy=20;} break;
    case 'ArrowLeft': if(dx===0){dx=-20; dy=0;} break;
    case 'ArrowRight': if(dx===0){dx=20; dy=0;} break;
  }
});
</script>
</div>
</body>
</html>
